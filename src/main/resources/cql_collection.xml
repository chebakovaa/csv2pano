<?xml version="1.0"?>
<query-collection>
    <query id="clear-all-ships">
        MATCH()-[n]-() delete n;
    </query>
    <query id="clear-all-objs">
        MATCH(n) DELETE n;
    </query>
    <query id="import-node">
        CALL apoc.import.csv([{fileName: 'file:///pitc/%s', labels:[]}], [], {delimiter: ';', arrayDelimiter: '|', stringIds: true});
    </query>
    <query id="apoc-iterate">
        CALL apoc.periodic.iterate('%s','%s',{batchSize:10000, iterateList:true});
    </query>
    <query id="relation-create">
        MATCH (e:row.from_name {uid: row.from_id}), (o:row.to_name {uid: row.to_id})
        CREATE (e)-[r:CONTAINED_INTO {uid: '%1$s-' + o.uid, oname: '%1$s', otype: 'folder'}]->(o)
    </query>
    <query id="relation-load">
        CALL apoc.load.csv('file:///pitc/relation_%s', {sep:";", arraySep:",", header:true}) YIELD map as row return row
    </query>
</query-collection>
